<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>User Authentication System</title>
</head>
<body>
  <form id="register-form">
    <h2>Register</h2>
    <label for="register-username">Username</label>
    <input type="text" id="register-username" required>
    <label for="register-password">Password</label>
    <input type="password" id="register-password" required>
    <button type="submit">Register</button>
  </form>

  <form id="login-form">
    <h2>Login</h2>
    <label for="login-username">Username</label>
    <input type="text" id="login-username" required>
    <label for="login-password">Password</label>
    <input type="password" id="login-password" required>
    <button type="submit">Login</button>
  </form>

  <div id="token"></div>

  <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
  <script>
    document.getElementById('register-form').addEventListener('submit', async (event) => {
      event.preventDefault();

      const username = document.getElementById('register-username').value;
      const password = document.getElementById('register-password').value;

      try {
        const response = await axios.post('/register', { username, password });
        document.getElementById('token').innerText = `Token: ${response.data.token}`;
      } catch (error) {
        console.error(error.response.data.error);
      }
    });

    document.getElementById('login-form').addEventListener('submit', async (event) => {
      event.preventDefault();

      const username = document.getElementById('login-username').value;
      const password = document.getElementById('login-password').value;

      try {
        const response = await axios.post('/login', { username, password });
        document.getElementById('token').innerText = `Token: ${response.data.token}`;
      } catch (error) {
        console.error(error.response.data.error);
      }
    });
  </script>
</body>
</html>